import{r as l,j as a,m as g,I as v}from"./index-f9e05c39.js";function S(t,e=!0,n=[]){const o=l.useRef(null);return l.useEffect(()=>{function s(i){var r;const c=(r=i==null?void 0:i.target)==null?void 0:r.id;n.includes(c)||o.current&&!o.current.contains(i.target)&&t()}return document.addEventListener("click",s,e),()=>document.removeEventListener("click",s,e)},[t,e,n]),{outsideClickRef:o}}function I(t){l.useEffect(()=>{function e(){t()}return document.addEventListener("wheel",e),()=>document.removeEventListener("wheel",e)},[t])}const h=l.createContext(void 0);function d(){const t=l.useContext(h);if(t===void 0)throw new Error("useSelect must be used within a Select");return t}function x(t){var p;const e=(p=t.current)==null?void 0:p.getBoundingClientRect();if(!e)return null;const n=window.outerWidth,o=e.height,s=e.width,c=n-e.top<o?{bottom:`${n-e.top}px`}:{top:`${e.bottom}px`},f={left:`${e.left+e.width/2}px`,transform:`translateX(-${s/2}px)`};return{...c,...f}}const m=({children:t,onChange:e})=>{const[n,o]=l.useState(!1),[s,i]=l.useState(null),c=g(),r={isOpen:n,setIsOpen:o,onChange:e,position:s,setPosition:i,selectTriggerId:c};return a(h.Provider,{value:r,children:a("div",{className:"relative",children:t})})},E=({children:t,className:e})=>{const{isOpen:n,setIsOpen:o,setPosition:s,selectTriggerId:i}=d(),c=l.useRef(null);function r(){n||f(),o(u=>!u)}function f(){const u=x(c);u&&s(u)}return l.cloneElement(t,{id:i,className:e,onClick:r,ref:c})},k=({children:t,className:e})=>{const{isOpen:n,setIsOpen:o,position:s,selectTriggerId:i}=d(),{outsideClickRef:c}=S(r,!0,[i]);I(r);function r(){o(!1)}return n?v.createPortal(a("ul",{style:{...s},className:"fixed "+e,ref:c,children:t}),document.getElementById("root")):null},w=({value:t,children:e,className:n})=>{const{onChange:o,setIsOpen:s}=d();function i(){o(t),s(!1)}return a("li",{className:n,onClick:i,children:e})};m.SelectTrigger=E;m.SelectList=k;m.SelectItem=w;export{m as S,S as u};
