import{j as e,G as B,r as c,b as k,c as n,g as I,e as L,f as j,h as A,i as R,m as E,F as q,a as F,k as O,l as $,d as S,n as D,_ as G,o as H,O as P}from"./index-f9e05c39.js";import{B as V,a as _,u as K,b as W,c as J,d as U,e as X}from"./BtnMarkQuesitonToEdit-62d9f3eb.js";import{S as m}from"./Select-5a36b32f.js";import{s as Y}from"./config-bc6444f8.js";import{B as y}from"./Button-0c06efe1.js";import{q as Z}from"./react-tooltip.min-1e9f1413.js";import{B as ee}from"./BtnCopyQuestion-c0e2665b.js";const Q=({checked:t,size:i=40,color:r="white"})=>e("div",{children:t?e(V,{size:i,color:r}):e(_,{size:i,color:r})});function te(t){return B({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor"},child:[{tag:"path",attr:{d:"M9 2a2 2 0 00-2 2v8a2 2 0 002 2h6a2 2 0 002-2V6.414A2 2 0 0016.414 5L14 2.586A2 2 0 0012.586 2H9z"}},{tag:"path",attr:{d:"M3 8a2 2 0 012-2v10h8a2 2 0 01-2 2H5a2 2 0 01-2-2V8z"}}]})(t)}var ne=function(t,i){var r=c.useState(null),s=r[0],l=r[1];return c.useEffect(function(){if(t.current&&typeof IntersectionObserver=="function"){var a=function(u){l(u[0])},d=new IntersectionObserver(a,i);return d.observe(t.current),function(){l(null),d.disconnect()}}return function(){}},[t.current,i.threshold,i.root,i.rootMargin]),s};const ie=ne,re=()=>{const t=k();K("Enter",f);const{programmingLanguages:i,difficultyLevels:r}=Y,[s,l]=c.useState("HTML"),[a,d]=c.useState("beginner"),[u,g]=c.useState(""),[h,p]=c.useState(!1),[x,b]=c.useState(!1);function N(o){l(o)}function w(o){d(o)}function C(o){const z=o.target.value;g(z)}function f(){t(I({language:s,level:a==="all"?void 0:a,page:1,limit:0,searchTerm:u,isMarkedToBeRevised:x,isRevised:h}))}function v(){b(!1),p(!h)}function M(){p(!1),b(!x)}function T(){t(L({language:s}))}return n("div",{className:"min-h-32 flex w-full flex-col items-center justify-between border-b border-gray-300 bg-gray-800 px-4 py-4 md:flex-row md:px-20",children:[n("div",{className:"flex flex-col gap-1",children:[n("div",{className:"flex flex-wrap items-center gap-3",children:[n(m,{onChange:N,children:[e(m.SelectTrigger,{className:`h-14 w-52 cursor-pointer rounded-xl \r
            bg-gray-700 text-2xl leading-5 outline-none transition-all duration-300`,children:e("button",{type:"button",children:s})}),e(m.SelectList,{className:`z-[1500] mt-1 w-52  min-w-[100px] cursor-pointer \r
            border-2  border-gray-800 bg-gray-700 text-2xl leading-5 outline-none transition-all duration-300`,children:Object.keys(i).map(o=>e(m.SelectItem,{value:o,className:`flex h-14 w-full min-w-[100px]  cursor-pointer items-center justify-center border-b-2 border-gray-800 bg-gray-700 text-2xl\r
                    text-gray-100 hover:border-gray-900 hover:bg-gray-950 hover:text-gray-100`,children:e("span",{children:o})},o))})]}),n(m,{onChange:w,children:[e(m.SelectTrigger,{className:`h-14 w-52 cursor-pointer rounded-xl \r
            bg-gray-700 text-2xl capitalize leading-5 outline-none transition-all duration-300`,children:e("button",{type:"button",children:a})}),n(m.SelectList,{className:`z-[1500] mt-1 w-52  min-w-[100px] cursor-pointer \r
            border-2  border-gray-800 bg-gray-700 text-2xl leading-5 outline-none transition-all duration-300`,children:[r.map(o=>e(m.SelectItem,{value:o,className:`flex h-14 w-full min-w-[100px]  cursor-pointer items-center justify-center border-b-2 border-gray-800 bg-gray-700 text-2xl\r
                    text-gray-100 hover:border-gray-900 hover:bg-gray-950 hover:text-gray-100`,children:e("span",{className:"capitalize",children:o})},o)),e(m.SelectItem,{value:"all",className:`flex h-14 w-full min-w-[100px]  cursor-pointer items-center justify-center border-b-2 border-gray-800 bg-gray-700 text-2xl\r
                    text-gray-100 hover:border-gray-900 hover:bg-gray-950 hover:text-gray-100`,children:e("span",{className:"capitalize",children:"all"})})]})]}),e("input",{className:"h-14 w-96 rounded-xl bg-gray-700 px-3 text-2xl leading-5",type:"text",value:u,placeholder:"Search for a question",onChange:C})]}),n("div",{className:"flex flex-wrap items-center gap-4",children:[n(y,{onClickFn:v,className:"flex items-center justify-center gap-1 whitespace-nowrap p-2.5",children:[e("span",{className:"text-2xl font-semibold",children:"Approved only"}),e(Q,{checked:h})]}),n(y,{onClickFn:M,className:"flex items-center justify-center gap-1 whitespace-nowrap p-2.5",children:[e("span",{className:"text-2xl font-semibold",children:"Marked only"}),e(Q,{checked:x})]}),n(y,{onClickFn:T,className:"flex items-center justify-center gap-1 whitespace-nowrap px-2.5",children:[e("span",{className:"text-2xl font-semibold",children:"Get Duplicates"}),e(te,{size:22,color:"white"})]})]})]}),e(y,{onClickFn:f,className:"flex h-14 items-center justify-center self-end rounded-full bg-gray-700 p-10 text-2xl leading-5 text-gray-100 md:self-center",children:e("span",{className:"text-3xl capitalize",children:"search"})})]})};const se=()=>e("div",{className:"question-loader-container",children:n("div",{className:"question-loader-inner-container",children:[e("span",{className:"maginifying-glass-handle"}),e("div",{className:"center",children:e("div",{className:"wrap",children:e("div",{className:"box",children:j.map((t,i)=>e("div",{className:"code-file-icon-container",children:e(A,{className:"code-file-icon",color:t})},i))})})})]})});function ae(){const{questions:t,getQuestionsState:i,question:r,getQuestionState:s,addQuestionState:l,updateQuestionState:a,removeQuestionState:d}=R(u=>u.question);return{questions:t,getQuestionsState:i,question:r,getQuestionState:s,addQuestionState:l,updateQuestionState:a,removeQuestionState:d}}const oe=({entity:t,handleBtnArchiveClick:i,color:r="#000"})=>{const s=c.useRef(E()).current;return n(q,{children:[e("button",{"data-tooltip-id":s,"data-tooltip-content":`Archive a ${t}`,"data-tooltip-place":"top",onClick:i,children:e(W,{size:22,color:r})}),e(Z,{id:s,style:{fontSize:"16px"},className:"hidden md:block"})]})};function le(t){return B({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M17.47 250.9C88.82 328.1 158 397.6 224.5 485.5c72.3-143.8 146.3-288.1 268.4-444.37L460 26.06C356.9 135.4 276.8 238.9 207.2 361.9c-48.4-43.6-126.62-105.3-174.38-137z"}}]})(t)}const ce=({question:t,bcgColor:i})=>{const{id:r,question:s,options:l,level:a,language:d,correctOption:u}=t,g=t.isMarkedToBeRevised??!1,h=k(),p=F();function x(){p(`question-edit/${r}`)}function b(){window.confirm("Are you sure you want to archive this question?")&&h($(t))}function N(){if(!window.confirm("Are you sure you want to approve this question?"))return;const v={...t,isRevised:!0};h(S(v))}function w(){const f={...t,isMarkedToBeRevised:!g};h(S(f))}function C(){D(`Questions/${r}`),G.success("Id copied to clipboard",{style:{background:"#333",color:"#fff",fontSize:"13px",fontWeight:"600"}})}return n("li",{className:"white-box-shadow flex flex-col justify-between gap-2 overflow-auto rounded-lg p-8",style:{backgroundColor:i},children:[n("div",{children:[n("header",{className:"mb-2 flex items-center justify-between gap-2",children:[n("p",{className:"cursor-pointer text-3xl font-semibold hover:underline",onClick:C,children:["Id: ",r]}),t.isRevised&&e(le,{size:24,color:"#1d9bf0"})]}),e("div",{className:"mb-2 text-[2.6rem] font-semibold",children:s}),e("div",{className:"ml-4 mt-4 flex flex-col gap-2 text-3xl",children:l.map((f,v)=>e("div",{children:`${v+1}. ${f}`},v))})]}),n("div",{children:[n("div",{className:"mt-8 flex justify-between text-3xl font-semibold",children:[n("div",{children:[e("p",{children:"Level: "}),e("span",{children:O(a)})]}),n("div",{children:[e("p",{children:"Language: "}),e("span",{children:d})]}),n("div",{className:"group flex flex-col items-center gap-1",children:[e("p",{children:"Correct Option:"}),e("span",{className:"opacity-0 group-hover:opacity-100",children:u+1})]})]}),n("div",{className:"flex items-center justify-end gap-4",children:[e(oe,{entity:"question",handleBtnArchiveClick:b}),e(J,{isMarkedToBeRevised:g,handleBtnMarkToEditClick:w,color:"#000",size:22}),e(U,{handleBtnEditClick:x,size:22}),e(ee,{question:t,color:"#000",size:22}),e(X,{handleBtnApproveClick:N,color:"#000",size:22})]})]})]})};function de(){const[t,i]=c.useState(1),r=c.useRef(null),s=ie(r,{root:null,rootMargin:"0px",threshold:.1});return c.useEffect(()=>{s&&s.intersectionRatio>.1&&i(l=>l+1)},[s]),{paginationIdx:t,intersectionRef:r}}const ve=()=>{const t=k(),{questions:i,getQuestionsState:r}=ae(),{paginationIdx:s,intersectionRef:l}=de(),a=r.state==="loading",d=!a&&i.length===0,u=!a&&i.length>0,g=i.filter(p=>p.isRevised),h=Math.round(g.length/i.length*100);return c.useEffect(()=>{t(I({language:"HTML",level:"beginner",limit:0}))},[t]),n("main",{className:"flex w-screen flex-col items-center",children:[e(re,{}),a&&e(se,{}),d&&e("h2",{className:"mt-14 text-center text-2xl font-bold",children:"No questions found.⚠️ Please try another search."}),u&&n("div",{className:"mx-auto mt-4 flex w-11/12 flex-col gap-5 md:mt-2",children:[n("div",{className:"flex w-full flex-col flex-wrap justify-between gap-1 md:flex-row",children:[e("p",{className:"text-3xl font-semibold leading-none",children:`Number of Questions: ${i.length}`}),e("p",{className:"text-3xl font-semibold leading-none",children:`Number of Approved Questions: ${g.length}`}),n("p",{className:"text-3xl font-semibold leading-none",children:[n("em",{className:"mr-[4px]",children:[h,"%"]}),"of the questions have been approved."]})]}),e("ul",{className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-3",children:i.slice(0,40*s).map((p,x)=>e(ce,{question:p,bcgColor:H(x)},p.id))}),e("div",{className:"h-40 w-full",ref:l})]}),e(P,{})]})};export{ve as default};
