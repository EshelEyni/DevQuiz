import{n as O,o as L,p as k,u as z,r as v,a as s,F as w,j as t,L as D,H as E,q as T,t as B,v as M,w as A}from"./index-f3b51698.js";import{c as I,M as _,B as N}from"./Button-15718a28.js";import{u as P,B as H}from"./useKey-6a0df55a.js";import{s as R}from"./config-2b6c6df4.js";import{S as i}from"./Select-5a17c9ab.js";function $(){const{questions:g,getQuestionsState:u,question:c,getQuestionState:f,addQuestionState:d,updateQuestionState:e,removeQuestionState:a,filterBy:p,editState:h}=O(l=>l.question);return{questions:g,getQuestionsState:u,question:c,getQuestionState:f,addQuestionState:d,updateQuestionState:e,removeQuestionState:a,filterBy:p,editState:h}}const G=({isNested:g=!0,setFilterBy:u})=>{const c=L(),f=k(),d=z(),[e,a]=v.useState(null),{programmingLanguages:p,difficultyLevels:h}=R,{filterBy:l}=$(),S=g?I("fixed left-0 top-0 z-[1000] flex h-screen w-screen flex-col overflow-scroll bg-gray-800 p-8 md:left-1/2 md:top-1/2 md:h-4/5 md:w-3/5 md:-translate-x-1/2 md:-translate-y-1/2 md:rounded-3xl",{"justify-center":!e}):"min-h-screen bg-gray-800 p-8 flex flex-col gap-4 border border-white rounded-xl w-11/12 md:w-1/2 mt-10 mb-24";P("Escape",x);function y(n){if(!e)return;const{name:r,value:o}=n.target;if(r==="correctOption"){a({...e,[r]:Number(o)-1});return}if(r.startsWith("option-")){const b=Number(r.split("-")[1]),m=[...e.options];m[b]=o,a({...e,options:m});return}a({...e,[r]:o})}function Q(n){e&&a({...e,language:n})}function C(n){e&&a({...e,level:n})}function q(n){if(!e)return;const{name:r,value:o}=n.target;a({...e,[r]:o})}function j(n){if(n.preventDefault(),!e)return;const{id:r}=c;r?(d(T(e)),x()):(d(B(e)),a(null),u==null||u("search"))}function x(){f(-1),d(M(!0))}return v.useEffect(()=>{async function n(b){const m=await A.getById(b);m&&a(m)}function r(){return{id:"",question:"",options:["","","",""],correctOption:0,language:l.language,level:l.level,points:10,isArchived:!1,isMarkedToBeRevised:!1,isRevised:!1,createdAt:new Date,updatedAt:new Date}}const{id:o}=c;o?n(o):a(r())},[c,l.language,l.level]),s(w,{children:[g&&t(_,{onClickFn:x,darkMode:!0}),s("div",{className:S,children:[!e&&t(D,{}),e&&s(w,{children:[s(E,{className:"mb-4 flex items-center justify-between",children:[t("h2",{className:"text-5xl font-bold text-gray-100 md:text-3xl",children:"Question Editor"}),t(H,{question:e})]}),s("form",{className:"mt-4 flex flex-col items-center justify-center gap-2",onSubmit:j,children:[t("h3",{className:"self-start text-4xl font-medium md:text-3xl",children:"Language:"}),s(i,{onChange:Q,children:[t(i.SelectTrigger,{className:`h-14 w-52 cursor-pointer rounded-xl border-2 border-gray-800 \r
            bg-gray-700 text-2xl leading-5 outline-none transition-all duration-300`,children:t("button",{type:"button",children:e.language})}),t(i.SelectList,{className:`z-[1500] mt-1 w-52  min-w-[100px] cursor-pointer \r
            border-2  border-gray-800 bg-gray-700 text-2xl leading-5 outline-none transition-all duration-300`,children:Object.keys(p).map(n=>t(i.SelectItem,{value:n,className:`flex h-14 w-full min-w-[100px] cursor-pointer items-center justify-center border-b-2 border-gray-800 bg-gray-700 text-2xl\r
                    text-gray-100 hover:border-gray-900 hover:bg-gray-950 hover:text-gray-100`,children:t("span",{children:n})},n))})]}),t("h3",{className:"self-start text-4xl font-medium md:text-3xl",children:"Question:"}),t("textarea",{name:"question",value:e.question,onChange:q,required:!0,className:"w-full rounded-md bg-gray-700 p-4 text-2xl font-medium text-gray-100 outline-none"}),t("h3",{className:"self-start text-4xl font-medium md:text-3xl",children:"Options:"}),e.options.map((n,r)=>t("input",{type:"text",name:`option-${r}`,value:n,onChange:y,required:!0,className:"w-full rounded-md bg-gray-700 p-4 text-2xl font-medium text-gray-100 outline-none"},r)),t("h3",{className:"self-start text-4xl font-medium md:text-3xl",children:"Correct Option:"}),t("input",{type:"number",name:"correctOption",value:e.correctOption+1,onChange:y,min:0,max:e.options.length,required:!0,className:"w-24 rounded-md bg-gray-700 p-4 text-center text-2xl font-medium text-gray-100 outline-none"}),t("h3",{className:"self-start text-4xl font-medium md:text-3xl",children:"Level:"}),s(i,{onChange:C,children:[t(i.SelectTrigger,{className:`h-14 w-52 cursor-pointer rounded-xl border-2 border-gray-800 \r
            bg-gray-700 text-2xl capitalize leading-5 outline-none transition-all duration-300`,children:t("button",{type:"button",children:e.level})}),t(i.SelectList,{className:"z-[1500] mt-1 w-52 min-w-[100px] cursor-pointer border-2 border-gray-800 bg-gray-700 text-2xl leading-5 outline-none transition-all duration-300",children:h.map(n=>t(i.SelectItem,{value:n,className:`flex h-14 w-full min-w-[100px]  cursor-pointer items-center justify-center border-b-2 border-gray-800 bg-gray-700 text-2xl\r
                    text-gray-100 hover:border-gray-900 hover:bg-gray-950 hover:text-gray-100`,children:t("span",{className:"capitalize",children:n})},n))})]}),t("h3",{className:"self-start text-4xl font-medium md:text-3xl",children:"Points:"}),t("input",{type:"number",name:"points",value:e.points,onChange:y,required:!0,className:"w-24 rounded-md bg-gray-700 p-4 text-center text-2xl font-medium text-gray-100 outline-none"}),s("div",{className:"item-center mt-8 flex justify-center gap-4",children:[t(N,{type:"button",className:"h-14 w-40 rounded-xl bg-gray-700 text-2xl font-medium text-gray-100 hover:bg-gray-900",onClickFn:x,children:"Cancel"}),t(N,{type:"submit",className:"h-14 w-40 rounded-xl bg-gray-700 text-2xl font-medium text-gray-100 hover:bg-gray-900",children:"Save"})]})]})]})]})]})},V=Object.freeze(Object.defineProperty({__proto__:null,default:G},Symbol.toStringTag,{value:"Module"}));export{G as Q,V as a,$ as u};
