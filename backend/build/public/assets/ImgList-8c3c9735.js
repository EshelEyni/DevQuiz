import{r as x,j as e,b as y,c as i,e as C,s as v,d as p,m as k,f as B,h as j,L as A}from"./index-38a95230.js";import{u as g}from"./useJobApplication-295cfd9a.js";import{a as b,B as L,b as S,c as T}from"./index.esm-e379f186.js";import{M as u}from"./Modal-e078759c.js";import{B as E,c as D}from"./Button-b096e685.js";import{u as I}from"./useOutsideClick-9d033f1b.js";const N=x.createContext(void 0),o=({children:n})=>{const[t,l]=x.useState(!1),a={isEditing:t,setIsEditing:l};return e(N.Provider,{value:a,children:n})},F=({children:n,className:t})=>{const{isEditing:l,setIsEditing:a}=x.useContext(N);let s=0;function c(){a(!0)}function r(){const m=new Date().getTime(),d=m-s;d<300&&d>0&&a(!0),s=m}return l?null:x.cloneElement(n,{onDoubleClick:c,onTouchEnd:r,className:t})},R=({children:n,onChange:t,className:l})=>{const{isEditing:a}=x.useContext(N);return a?x.cloneElement(n,{onChange:t,className:l}):null},M=({children:n,onSubmit:t,className:l})=>{const{isEditing:a,setIsEditing:s}=x.useContext(N);function c(){t(),s(!1)}return a?x.cloneElement(n,{onClick:c,className:l}):null},O=({children:n,className:t})=>{const{isEditing:l,setIsEditing:a}=x.useContext(N);function s(){a(!0)}return l?null:x.cloneElement(n,{onClick:s,className:t})};o.DisplayElement=F;o.EditElement=R;o.SaveButton=M;o.EditButton=O;const z=({contact:n})=>{const{application:t}=g(),l=y();function a(r){if(!t)return;const m=r.target.name,d=r.target.value,h={...t,contacts:t.contacts.map(f=>f.name===n.name?{...f,[m]:d}:f)};l(v(h))}function s(){t&&l(p(t))}function c(){if(!t)return;const r={...t,contacts:t.contacts.filter(m=>m.name!==n.name)};l(p(r))}return i("div",{className:"flex w-full flex-col gap-3 rounded-3xl border p-3",children:[i("div",{className:"flex items-center justify-between gap-4",children:[e("h3",{className:"text-2xl font-bold",children:"Contact"}),i(u,{children:[e(u.OpenBtn,{modalName:"archiveModal",children:e("button",{children:e(b,{className:"text-3xl md:text-4xl"})})}),i(u.Window,{name:"archiveModal",className:"fixed left-1/2 top-1/2 z-[1500] flex max-w-[320px] -translate-x-1/2 -translate-y-1/2 transform flex-col items-center rounded-lg bg-gray-600 p-8 text-gray-100 shadow-xl",children:[e("h3",{className:"text-3xl font-semibold text-gray-200 md:text-3xl",children:"Are you sure you want to remove this contact?"}),i("div",{className:"mt-2 flex items-center gap-4",children:[e(u.CloseBtn,{className:"rounded-full bg-gray-600 px-5 py-3 text-lg font-medium uppercase text-gray-200 transition-all hover:scale-105",children:e("button",{children:"Cancel"})}),e(u.CloseBtn,{className:"rounded-full bg-gray-600 px-5 py-3 text-lg font-medium uppercase text-gray-200 transition-all hover:scale-105",onClickFn:c,children:e("button",{children:"remove"})})]})]})]})]}),i(o,{children:[e(o.DisplayElement,{className:"text-3xl text-white",children:e("div",{children:n.name||"Name"})}),i("div",{className:"flex items-center gap-4",children:[e(o.EditElement,{onChange:a,className:"w-full rounded-md bg-gray-700 p-4 text-2xl font-medium text-gray-100 outline-none",children:e("input",{type:"text",defaultValue:n.name,name:"name"})}),e(o.SaveButton,{onSubmit:s,className:"flex items-center justify-center justify-self-start  px-7 text-3xl font-medium leading-none tracking-wide text-gray-100 transition-all duration-300 hover:scale-110 md:h-14 md:text-2xl",children:e("div",{children:e(C,{})})})]})]}),i(o,{children:[e(o.DisplayElement,{className:"text-3xl text-white",children:e("div",{children:n.email||"Email"})}),i("div",{className:"flex items-center gap-4",children:[e(o.EditElement,{onChange:a,className:"w-full rounded-md bg-gray-700 p-4 text-2xl font-medium text-gray-100 outline-none",children:e("input",{type:"text",defaultValue:n.email,name:"email",placeholder:"Email"})}),e(o.SaveButton,{onSubmit:s,className:"flex items-center justify-center justify-self-start  px-7 text-3xl font-medium leading-none tracking-wide text-gray-100 transition-all duration-300 hover:scale-110 md:h-14 md:text-2xl",children:e("div",{children:e(C,{})})})]})]}),i(o,{children:[i("div",{className:"flex flex-wrap items-center gap-4",children:[e(o.DisplayElement,{className:"overflow-hidden text-3xl text-blue-400 hover:underline",children:e("a",{href:n.url,target:"_blank",rel:"noreferrer",children:n.url||"Link"})}),e(o.EditButton,{className:"cursor-pointer text-4xl",children:e("div",{children:e(L,{})})})]}),i("div",{className:"flex items-center gap-4",children:[e(o.EditElement,{onChange:a,className:"w-full rounded-md bg-gray-700 p-4 text-2xl font-medium text-gray-100 outline-none",children:e("input",{type:"text",defaultValue:n.url,name:"url",placeholder:"Link"})}),e(o.SaveButton,{onSubmit:s,className:"flex items-center justify-center justify-self-start  px-7 text-3xl font-medium leading-none tracking-wide text-gray-100 transition-all duration-300 hover:scale-110 md:h-14 md:text-2xl",children:e("div",{children:e(C,{})})})]})]})]})},Q=({isEdit:n})=>{const{application:t}=g(),l=y();function a(){if(!t)return;const c={name:"name",url:"link",email:"email"},r={...t,contacts:[...t.contacts,c]};l(n?v(r):p(r))}if(!t)return null;const{contacts:s}=t;return i("div",{children:[e("h3",{className:"mb-4 text-3xl font-bold text-white underline",children:"Contacts:"}),i("div",{className:"flex w-full flex-wrap justify-center gap-2",children:[s.map((c,r)=>e(z,{contact:c},r)),e(E,{onClickFn:a,className:"mt-2 flex h-20 items-center justify-center gap-2 self-center justify-self-start rounded-full bg-gray-600 px-7 text-3xl font-medium leading-none tracking-wide text-gray-100 transition-all duration-300 hover:scale-110 md:h-14 md:text-2xl",children:"Add Contact"})]})]})},J=({isChecked:n,handleClick:t,size:l=40,color:a="white"})=>e("div",{className:"cursor-pointer",onClick:t,children:n?e(S,{size:l,color:a}):e(T,{size:l,color:a})}),V=({todoItem:n})=>{const{application:t}=g(),l=y();function a(m){if(!t)return;const d=m.target.name,h=m.target.value,f={...t,todoList:t.todoList.map(w=>w.id===n.id?{...w,[d]:h}:w)};l(v(f))}function s(){if(!t)return;const m={...t,todoList:t.todoList.map(d=>d.id===n.id?{...d,completed:!d.completed}:d)};l(p(m))}function c(){if(!t)return;const m={...t,todoList:t.todoList.filter(d=>d.id!==n.id)};l(p(m))}function r(){t&&l(p(t))}return e("div",{className:"flex w-full flex-col gap-3 rounded-3xl border p-3",children:i(o,{children:[e(o.DisplayElement,{className:"flex items-center justify-between",children:i("div",{children:[e("div",{className:D("text-3xl text-white",{"line-through":n.completed}),children:n.text||"Todo Item"}),i("div",{className:"flex items-center gap-1",children:[e(J,{handleClick:s,isChecked:n.completed}),i(u,{children:[e(u.OpenBtn,{modalName:"archiveModal",children:e("button",{children:e(b,{className:"text-3xl md:text-4xl"})})}),i(u.Window,{name:"archiveModal",className:"fixed left-1/2 top-1/2 z-[1500] flex max-w-[320px] -translate-x-1/2 -translate-y-1/2 transform flex-col items-center rounded-lg bg-gray-600 p-8 text-gray-100 shadow-xl",children:[e("h3",{className:"text-3xl font-semibold text-gray-200 md:text-3xl",children:"Are you sure you want to remove this item?"}),i("div",{className:"mt-2 flex items-center gap-4",children:[e(u.CloseBtn,{className:"rounded-full bg-gray-600 px-5 py-3 text-lg font-medium uppercase text-gray-200 transition-all hover:scale-105",children:e("button",{children:"Cancel"})}),e(u.CloseBtn,{className:"rounded-full bg-gray-600 px-5 py-3 text-lg font-medium uppercase text-gray-200 transition-all hover:scale-105",onClickFn:c,children:e("button",{children:"remove"})})]})]})]})]})]})}),i("div",{className:"flex items-center gap-4",children:[e(o.EditElement,{onChange:a,className:"w-full rounded-md bg-gray-700 p-4 text-2xl font-medium text-gray-100 outline-none",children:e("input",{type:"text",defaultValue:n.text,name:"text",placeholder:"Todo Item"})}),e(o.SaveButton,{onSubmit:r,className:"flex items-center justify-center justify-self-start  px-7 text-3xl font-medium leading-none tracking-wide text-gray-100 transition-all duration-300 hover:scale-110 md:h-14 md:text-2xl",children:e("div",{children:e(C,{})})})]})]})})},X=({isEdit:n})=>{const{application:t}=g(),l=y();if(!t)return null;function a(){if(!t)return;const c={text:"Todo Item",completed:!1,id:k()},r={...t,todoList:[...t.todoList,c]};l(n?v(r):p(r))}const{todoList:s}=t;return i("div",{children:[e("h3",{className:"mb-4 text-3xl font-bold text-white underline",children:"Todo List:"}),i("div",{className:"flex w-full flex-wrap justify-center gap-2",children:[s.map((c,r)=>e(V,{todoItem:c},r)),e(E,{onClickFn:a,className:"mt-2 flex h-20 items-center justify-center gap-2 self-center justify-self-start rounded-full bg-gray-600 px-7 text-3xl font-medium leading-none tracking-wide text-gray-100 transition-all duration-300 hover:scale-110 md:h-14 md:text-2xl",children:e("span",{children:"Add Todo"})})]})]})},W=async(n,t)=>{const l="dng9sfzqt",a="hoav12li",s=`https://api.cloudinary.com/v1_1/${l}/${t}/upload`,c=new FormData;c.append("file",n),c.append("upload_preset",a);try{const{data:r}=await B.post(s,c);return r.url}catch(r){return console.error("ERROR!",r),""}},_=({setIsLoading:n,isEdit:t})=>{const l=x.useRef(null),{application:a}=g(),s=y();async function c(r){var m;if(a)try{const d=(m=r.target.files)==null?void 0:m[0];if(!d)return;n(!0);const h=await W(d,"image"),f={...a,imgs:[...a.imgs,h]};s(t?v(f):p(f)),n(!1)}catch(d){console.error(d)}}return i("button",{className:"cursor-pointer text-4xl",onClick:()=>{l.current&&l.current.click()},children:[e(j,{}),e("input",{type:"file",accept:"image/*,video/*",multiple:!1,onChange:c,className:"hidden",ref:l})]})},$=({src:n,isEdit:t})=>{const{application:l}=g(),[a,s]=x.useState(!1),{outsideClickRef:c}=I(()=>s(!1)),r=y(),m=`relative cursor-pointer ${a?"fixed inset-0 z-50":"w-1/4 h-1/4"}`;function d(){if(!l)return;const h={...l,imgs:l.imgs.filter(f=>f!==n)};r(t?v(h):p(h))}return i("div",{className:m,children:[i(u,{children:[e(u.OpenBtn,{modalName:"archiveModal",className:"absolute right-1 top-1 z-50 cursor-pointer",children:e("button",{children:e(b,{className:"text-3xl md:text-4xl"})})}),i(u.Window,{name:"archiveModal",className:"fixed left-1/2 top-1/2 z-[1500] flex max-w-[320px] -translate-x-1/2 -translate-y-1/2 transform flex-col items-center rounded-lg bg-gray-600 p-8 text-gray-100 shadow-xl",children:[e("h3",{className:"text-3xl font-semibold text-gray-200 md:text-3xl",children:"Are you sure you want to remove this contact?"}),i("div",{className:"mt-2 flex items-center gap-4",children:[e(u.CloseBtn,{className:"rounded-full bg-gray-600 px-5 py-3 text-lg font-medium uppercase text-gray-200 transition-all hover:scale-105",children:e("button",{children:"Cancel"})}),e(u.CloseBtn,{className:"rounded-full bg-gray-600 px-5 py-3 text-lg font-medium uppercase text-gray-200 transition-all hover:scale-105",onClickFn:d,children:e("button",{children:"remove"})})]})]})]}),e("img",{src:n,alt:"img",className:"h-full w-full object-cover",onClick:()=>s(!a),ref:c})]})},Y=({isEdit:n=!1})=>{const[t,l]=x.useState(!1),{application:a}=g();return a?i("div",{children:[i("h3",{className:"mb-4 flex w-full items-center justify-between gap-2",children:[e("span",{className:"text-3xl font-bold text-white underline",children:"Images"}),e(_,{setIsLoading:l,isEdit:n})]}),t&&e(A,{}),!t&&e("div",{className:"flex w-full flex-wrap gap-2",children:a.imgs.map((s,c)=>e($,{src:s,isEdit:n},c))})]}):null};export{Q as C,Y as I,o as J,X as T};
