import{r as g,G as T,b as y,c as t,j as e,g as S,e as A,f as L,m as q,h as E,i as O,k as R,_ as Q,l as F,n as $,O as D}from"./index-0de7a7da.js";import{S as o}from"./Select-a72f8eaf.js";import{s as G}from"./config-c3e48a03.js";import{B as N}from"./Button-b9e0673e.js";import{u as P,q as W}from"./useKey-f3403826.js";import{B as H,a as V,b as _,c as K,Q as J}from"./BtnMarkQuesitonToEdit-e08fd8bc.js";import{M as v}from"./Modal-e0dd9d46.js";import{B as U}from"./BtnCopyQuestion-b40ad16c.js";import"./MainScreen-4146bb67.js";var X=function(r,a){var i=g.useState(null),n=i[0],s=i[1];return g.useEffect(function(){if(r.current&&typeof IntersectionObserver=="function"){var c=function(u){s(u[0])},d=new IntersectionObserver(c,a);return d.observe(r.current),function(){s(null),d.disconnect()}}return function(){}},[r.current,a.threshold,a.root,a.rootMargin]),n};const Y=X;function C(r){return T({tag:"svg",attr:{version:"1.1",viewBox:"0 0 17 17"},child:[{tag:"g",attr:{},child:[]},{tag:"path",attr:{d:"M12.497 0h-6.497v2.010h1v-1.010h5v4h4v8h-4.017v1h5.017v-9.818l-4.503-4.182zM13 1.832l2.335 2.168h-2.335v-2.168zM0 3v14h11v-9.818l-4.503-4.182h-6.497zM7 4.832l2.335 2.168h-2.335v-2.168zM1 16v-12h5v4h4v8h-9z"}}]})(r)}const Z=()=>{const r=y();P("Enter",w);const{programmingLanguages:a,difficultyLevels:i}=G,[n,s]=g.useState({language:"HTML",level:"beginner",searchTerm:"",Approved:{name:"All",value:void 0},Marked:{name:"All",value:void 0}}),{language:c,level:d,searchTerm:u,Approved:h,Marked:m}=n,p=[{name:"Approved only",value:!0},{name:"Remove approved",value:!1},{name:"All",value:void 0}],x=[{name:"Marked only",value:!0},{name:"Remove marked",value:!1},{name:"All",value:void 0}];function b(l){s({...n,language:l})}function z(l){s({...n,level:l})}function M(l){const f=l.target.value;s({...n,searchTerm:f})}function I(l){s({...n,Approved:l})}function B(l){s({...n,Marked:l})}function w(){r(S({language:c,level:d==="all"?void 0:d,page:1,limit:0,searchTerm:u,isMarkedToBeRevised:m.value,isRevised:h.value}))}function j(){r(A({language:c}))}return t("div",{className:"min-h-32 flex w-full flex-col items-center justify-between border-b border-gray-300 bg-gray-800 px-4 py-4 md:flex-row md:px-20",children:[t("div",{className:"flex flex-col gap-3",children:[t("div",{className:"flex flex-wrap items-center gap-3",children:[t(o,{onChange:b,children:[e(o.SelectTrigger,{className:`h-14 w-52 cursor-pointer rounded-xl \r
            bg-gray-700 text-2xl leading-5 outline-none transition-all duration-300`,children:e("button",{type:"button",children:c})}),e(o.SelectList,{className:`z-[1500] mt-1 w-52  min-w-[100px] cursor-pointer \r
            border-2  border-gray-800 bg-gray-700 text-2xl leading-5 outline-none transition-all duration-300`,children:Object.keys(a).map(l=>e(o.SelectItem,{value:l,className:`flex h-14 w-full min-w-[100px]  cursor-pointer items-center justify-center border-b-2 border-gray-800 bg-gray-700 text-2xl\r
                    text-gray-100 hover:border-gray-900 hover:bg-gray-950 hover:text-gray-100`,children:e("span",{children:l})},l))})]}),t(o,{onChange:z,children:[e(o.SelectTrigger,{className:`h-14 w-52 cursor-pointer rounded-xl \r
            bg-gray-700 text-2xl capitalize leading-5 outline-none transition-all duration-300`,children:e("button",{type:"button",children:d})}),t(o.SelectList,{className:`z-[1500] mt-1 w-52  min-w-[100px] cursor-pointer \r
            border-2  border-gray-800 bg-gray-700 text-2xl leading-5 outline-none transition-all duration-300`,children:[i.map(l=>e(o.SelectItem,{value:l,className:`flex h-14 w-full min-w-[100px]  cursor-pointer items-center justify-center border-b-2 border-gray-800 bg-gray-700 text-2xl\r
                    text-gray-100 hover:border-gray-900 hover:bg-gray-950 hover:text-gray-100`,children:e("span",{className:"capitalize",children:l})},l)),e(o.SelectItem,{value:"all",className:`flex h-14 w-full min-w-[100px]  cursor-pointer items-center justify-center border-b-2 border-gray-800 bg-gray-700 text-2xl\r
                    text-gray-100 hover:border-gray-900 hover:bg-gray-950 hover:text-gray-100`,children:e("span",{className:"capitalize",children:"all"})})]})]}),e("input",{className:"h-14 w-96 rounded-xl bg-gray-700 px-3 text-2xl leading-5",type:"text",value:u,placeholder:"Search for a question",onChange:M})]}),t("div",{className:"flex flex-wrap items-center gap-4",children:[t(o,{onChange:I,children:[e(o.SelectTrigger,{className:`h-14 w-56 cursor-pointer rounded-xl \r
            bg-gray-700 text-2xl capitalize leading-5 outline-none transition-all duration-300`,children:e("button",{type:"button",children:h.name})}),e(o.SelectList,{className:`z-[1500] mt-1 w-56  min-w-[100px] cursor-pointer \r
            border-2  border-gray-800 bg-gray-700 text-2xl leading-5 outline-none transition-all duration-300`,children:p.map(({name:l,value:f})=>e(o.SelectItem,{value:{name:l,value:f},className:`flex h-14 w-full min-w-[100px]  cursor-pointer items-center justify-center border-b-2 border-gray-800 bg-gray-700 text-2xl\r
                    text-gray-100 hover:border-gray-900 hover:bg-gray-950 hover:text-gray-100`,children:e("span",{className:"capitalize",children:l})},l))})]}),t(o,{onChange:B,children:[e(o.SelectTrigger,{className:`h-14 w-56 cursor-pointer rounded-xl \r
            bg-gray-700 text-2xl capitalize leading-5 outline-none transition-all duration-300`,children:e("button",{type:"button",children:m.name})}),e(o.SelectList,{className:`z-[1500] mt-1 w-56  min-w-[100px] cursor-pointer \r
            border-2  border-gray-800 bg-gray-700 text-2xl leading-5 outline-none transition-all duration-300`,children:x.map(({name:l,value:f})=>e(o.SelectItem,{value:{name:l,value:f},className:`flex h-14 w-full min-w-[100px]  cursor-pointer items-center justify-center border-b-2 border-gray-800 bg-gray-700 text-2xl\r
                    text-gray-100 hover:border-gray-900 hover:bg-gray-950 hover:text-gray-100`,children:e("span",{className:"capitalize",children:l})},l))})]}),t(N,{onClickFn:j,className:"flex items-center justify-center gap-3 whitespace-nowrap px-2.5",children:[e("span",{className:"text-2xl font-semibold",children:"Get Duplicates"}),e(C,{size:20,color:"white"})]})]})]}),e(N,{onClickFn:w,className:"flex h-14 items-center justify-center self-end rounded-full bg-gray-700 p-10 text-2xl leading-5 text-gray-100 md:self-center",children:e("span",{className:"text-3xl capitalize",children:"search"})})]})};function k(){const{questions:r,getQuestionsState:a,question:i,getQuestionState:n,addQuestionState:s,updateQuestionState:c,removeQuestionState:d,editState:u}=L(h=>h.question);return{questions:r,getQuestionsState:a,question:i,getQuestionState:n,addQuestionState:s,updateQuestionState:c,removeQuestionState:d,editState:u}}const ee=({question:r})=>{const a=y(),i=g.useRef(q()).current;function n(){a(E(r))}return t(v,{children:[e(v.OpenBtn,{modalName:"archiveModal",children:e("button",{"data-tooltip-id":i,"data-tooltip-content":"Archive question","data-tooltip-place":"top",children:e(H,{className:"text-5xl text-black md:text-4xl"})})}),e(W,{id:i,style:{fontSize:"16px"},className:"hidden md:block"}),t(v.Window,{name:"archiveModal",className:"fixed left-1/2 top-1/2 z-[150] flex min-w-[300px] -translate-x-1/2 -translate-y-1/2 transform flex-col items-center gap-12 overflow-auto rounded-lg bg-gray-800 p-8 shadow-lg",children:[e("h3",{className:"text-center text-4xl font-semibold text-gray-200 md:text-3xl",children:"Are you sure you want to archive this question?"}),t("div",{className:"flex items-center gap-4",children:[e(v.CloseBtn,{className:"rounded-full bg-gray-600 px-5 py-3 text-lg font-medium uppercase text-gray-200 transition-all hover:scale-105",children:e("button",{children:"Cancel"})}),e(v.CloseBtn,{className:"rounded-full bg-gray-600 px-5 py-3 text-lg font-medium uppercase text-gray-200 transition-all hover:scale-105",onClickFn:n,children:e("button",{children:"archive"})})]})]})]})},te=({question:r,bcgColor:a})=>{const i=y(),{id:n,question:s,options:c,level:d,language:u,correctOption:h}=r;function m(){R(`Questions/${n}`),Q.success("Id copied to clipboard",{style:{background:"#333",color:"#fff",fontSize:"13px",fontWeight:"600"}})}function p(){i(F(n))}return t("li",{className:"white-box-shadow flex flex-col justify-between gap-2 overflow-auto rounded-lg p-8",style:{backgroundColor:a},children:[t("div",{children:[e("header",{className:"mb-2 flex items-center justify-between gap-2",children:t("p",{className:"cursor-pointer text-3xl font-semibold hover:underline",onClick:m,children:["Id: ",n]})}),e("div",{className:"mb-2 text-5xl font-semibold tracking-wide md:text-4xl",children:s}),e("div",{className:"ml-4 mt-4 flex flex-col gap-3 text-4xl sm:text-3xl md:text-3xl",children:c.map((x,b)=>e("div",{children:`${b+1}. ${x}`},b))})]}),t("div",{children:[t("div",{className:"mb-3 mt-8 flex w-full justify-between gap-6 text-3xl font-semibold",children:[t("div",{className:"flex-1",children:[e("p",{children:"Level: "}),e("span",{children:O(d)})]}),t("div",{className:"flex-1",children:[e("p",{children:"Language: "}),e("span",{children:u})]}),t("div",{className:"group flex flex-1 flex-col items-center gap-1",children:[e("p",{children:"Correct Option:"}),e("span",{className:"opacity-0 group-hover:opacity-100",children:h+1})]})]}),t("div",{className:"flex items-center justify-end gap-4",children:[e(ee,{question:r}),e(V,{question:r,color:"#000"}),e(_,{questionId:r.id}),e(U,{question:r,color:"#000"}),e(K,{question:r,color:"#000"}),e(N,{onClickFn:p,className:"flex items-center justify-center gap-3 whitespace-nowrap px-2.5",children:e(C,{size:20,color:"#000"})})]})]})]})};function ne(){const[r,a]=g.useState(1),i=g.useRef(null),n=Y(i,{root:null,rootMargin:"0px",threshold:.1});return g.useEffect(()=>{n&&n.intersectionRatio>.1&&a(s=>s+1)},[n]),{paginationIdx:r,intersectionRef:i}}function re(){const{editState:r}=k(),{archiveCount:a,approveCount:i,markCount:n}=r;g.useEffect(()=>{a+i+n!==0&&Q(t("div",{className:"flex flex-col gap-2 bg-[#333] text-xl capitalize",children:[i>0&&t("p",{children:[i," questions approved"]}),n>0&&t("p",{children:[n," questions marked"]}),a>0&&t("p",{children:[a," questions archived"]})]}),{style:{background:"#333",color:"#fff",fontSize:"13px",fontWeight:"600"},duration:2e3})},[a,i,n])}const ge=()=>{re();const r=y(),{questions:a,getQuestionsState:i}=k(),{paginationIdx:n,intersectionRef:s}=ne(),c=i.state==="loading",d=!c&&a.length===0,u=!c&&a.length>0,h=a.filter(p=>p.isRevised),m=Math.round(h.length/a.length*100);return g.useEffect(()=>{r(S({language:"HTML",level:"beginner",limit:0}))},[r]),t("main",{className:"flex w-screen flex-col items-center",children:[e(Z,{}),c&&e(J,{}),d&&e("h2",{className:"mt-14 text-center text-2xl font-bold",children:"No questions found.⚠️ Please try another search."}),u&&t("div",{className:"mx-auto mt-4 flex w-11/12 flex-col gap-5 pb-24 md:mt-2",children:[t("div",{className:"flex w-full flex-col flex-wrap justify-between gap-1 md:flex-row",children:[e("p",{className:"text-3xl font-semibold leading-none",children:`Number of Questions: ${a.length}`}),e("p",{className:"text-3xl font-semibold leading-none",children:`Number of Approved Questions: ${h.length}`}),t("p",{className:"text-3xl font-semibold leading-none",children:[t("em",{className:"mr-[4px]",children:[m,"%"]}),"of the questions have been approved."]})]}),e("ul",{className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:a.slice(0,40*n).map((p,x)=>e(te,{question:p,bcgColor:$(x)},`${p.id}-${x+1}`))}),e("div",{className:"h-40 w-full",ref:s})]}),e(D,{})]})};export{ge as default};
