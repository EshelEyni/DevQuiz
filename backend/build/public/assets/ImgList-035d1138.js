import{r as f,j as e,b as y,c as i,e as w,s as v,d as h,m as B,f as A,h as j,L}from"./index-00d1cdc1.js";import{u as g}from"./useJobApplication-7de12e5b.js";import{a as b,B as D,b as S,c as T}from"./index.esm-3412a38f.js";import{M as u}from"./Modal-d3e2a9d7.js";import{B as E,c as I}from"./Button-628ce1b7.js";import{u as F}from"./useOutsideClick-1c314169.js";const N=f.createContext(void 0),o=({children:n})=>{const[t,a]=f.useState(!1),l={isEditing:t,setIsEditing:a};return e(N.Provider,{value:l,children:n})},R=({children:n,className:t})=>{const{isEditing:a,setIsEditing:l}=f.useContext(N);let s=0;function c(){l(!0)}function r(){const x=new Date().getTime(),d=x-s;d<300&&d>0&&l(!0),s=x}return a?null:f.cloneElement(n,{onDoubleClick:c,onTouchEnd:r,className:t})},M=({children:n,onChange:t,className:a})=>{const{isEditing:l}=f.useContext(N);return l?f.cloneElement(n,{onChange:t,className:a}):null},O=({children:n,onSubmit:t,className:a})=>{const{isEditing:l,setIsEditing:s}=f.useContext(N);function c(){t(),s(!1)}return l?f.cloneElement(n,{onClick:c,className:a}):null},z=({children:n,className:t})=>{const{isEditing:a,setIsEditing:l}=f.useContext(N);function s(){l(!0)}return a?null:f.cloneElement(n,{onClick:s,className:t})};o.DisplayElement=R;o.EditElement=M;o.SaveButton=O;o.EditButton=z;const J=({contact:n})=>{const{application:t}=g(),a=y();function l(r){if(!t)return;const x=r.target.name,d=r.target.value,m={...t,contacts:t.contacts.map(p=>p.name===n.name?{...p,[x]:d}:p)};a(v(m))}function s(){t&&a(h(t))}function c(){if(!t)return;const r={...t,contacts:t.contacts.filter(x=>x.name!==n.name)};a(h(r))}return i("div",{className:"flex w-full flex-col gap-3 rounded-3xl border p-3",children:[i("div",{className:"flex items-center justify-between gap-4",children:[e("h3",{className:"text-2xl font-bold",children:"Contact"}),i(u,{children:[e(u.OpenBtn,{modalName:"archiveModal",children:e("button",{children:e(b,{className:"text-4xl"})})}),i(u.Window,{name:"archiveModal",className:"fixed left-1/2 top-1/2 z-[1500] flex max-w-[320px] -translate-x-1/2 -translate-y-1/2 transform flex-col items-center rounded-lg bg-gray-600 p-8 text-gray-100 shadow-xl",children:[e("h3",{className:"text-3xl font-semibold text-gray-200 md:text-3xl",children:"Are you sure you want to remove this contact?"}),i("div",{className:"mt-2 flex items-center gap-4",children:[e(u.CloseBtn,{className:"rounded-full bg-gray-600 px-5 py-3 text-lg font-medium uppercase text-gray-200 transition-all hover:scale-105",children:e("button",{children:"Cancel"})}),e(u.CloseBtn,{className:"rounded-full bg-gray-600 px-5 py-3 text-lg font-medium uppercase text-gray-200 transition-all hover:scale-105",onClickFn:c,children:e("button",{children:"remove"})})]})]})]})]}),i(o,{children:[e(o.DisplayElement,{className:"text-3xl text-white",children:e("div",{children:n.name||"Name"})}),i("div",{className:"flex items-center gap-4",children:[e(o.EditElement,{onChange:l,className:"w-full rounded-md bg-gray-700 p-4 text-2xl font-medium text-gray-100 outline-none",children:e("input",{type:"text",defaultValue:n.name,name:"name",placeholder:"Name"})}),e(o.SaveButton,{onSubmit:s,className:"flex items-center justify-center justify-self-start  px-7 text-3xl font-medium leading-none tracking-wide text-gray-100 transition-all duration-300 hover:scale-110 md:h-14 md:text-2xl",children:e("div",{children:e(w,{})})})]})]}),i(o,{children:[e(o.DisplayElement,{className:"text-3xl text-white",children:e("div",{children:n.email||"Email"})}),i("div",{className:"flex items-center gap-4",children:[e(o.EditElement,{onChange:l,className:"w-full rounded-md bg-gray-700 p-4 text-2xl font-medium text-gray-100 outline-none",children:e("input",{type:"text",defaultValue:n.email,name:"email",placeholder:"Email"})}),e(o.SaveButton,{onSubmit:s,className:"flex items-center justify-center justify-self-start  px-7 text-3xl font-medium leading-none tracking-wide text-gray-100 transition-all duration-300 hover:scale-110 md:h-14 md:text-2xl",children:e("div",{children:e(w,{})})})]})]}),i(o,{children:[i("div",{className:"flex flex-wrap items-center gap-4",children:[e(o.DisplayElement,{className:"overflow-hidden text-3xl text-blue-400 hover:underline",children:e("a",{href:n.url,target:"_blank",rel:"noreferrer",children:n.url||"Link"})}),e(o.EditButton,{className:"cursor-pointer text-4xl",children:e("div",{children:e(D,{})})})]}),i("div",{className:"flex items-center gap-4",children:[e(o.EditElement,{onChange:l,className:"w-full rounded-md bg-gray-700 p-4 text-2xl font-medium text-gray-100 outline-none",children:e("input",{type:"text",defaultValue:n.url,name:"url",placeholder:"Link"})}),e(o.SaveButton,{onSubmit:s,className:"flex items-center justify-center justify-self-start  px-7 text-3xl font-medium leading-none tracking-wide text-gray-100 transition-all duration-300 hover:scale-110 md:h-14 md:text-2xl",children:e("div",{children:e(w,{})})})]})]})]})},X=({isEdit:n})=>{const{application:t}=g(),a=y();function l(){if(!t)return;const c={name:"",url:"",email:""},r={...t,contacts:[...t.contacts,c]};a(n?v(r):h(r))}if(!t)return null;const{contacts:s}=t;return i("div",{children:[e("h3",{className:"mb-4 text-3xl font-bold text-white underline",children:"Contacts:"}),i("div",{className:"flex w-full flex-wrap justify-center gap-2",children:[s.map((c,r)=>e(J,{contact:c},r)),e(E,{onClickFn:l,className:"mt-2 flex h-20 items-center justify-center gap-2 self-center justify-self-start rounded-full bg-gray-600 px-7 text-3xl font-medium leading-none tracking-wide text-gray-100 transition-all duration-300 hover:scale-110 md:h-14 md:text-2xl",children:"Add Contact"})]})]})},V=({isChecked:n,handleClick:t,size:a=40,color:l="white"})=>e("div",{className:"cursor-pointer",onClick:t,children:n?e(S,{size:a,color:l}):e(T,{size:a,color:l})}),W=({todoItem:n})=>{const{application:t}=g(),a=new Date(n.createdAt).toLocaleDateString("he-IL"),l=y();function s(d){if(!t)return;const m=d.target.name,p=d.target.value,k={...t,todoList:t.todoList.map(C=>C.id===n.id?{...C,[m]:p}:C)};l(v(k))}function c(){if(!t)return;const d={...t,todoList:t.todoList.map(m=>m.id===n.id?{...m,completed:!m.completed}:m)};l(h(d))}function r(){if(!t)return;const d={...t,todoList:t.todoList.filter(m=>m.id!==n.id)};l(h(d))}function x(){t&&l(h(t))}return e("div",{className:"flex w-full flex-col gap-3 rounded-3xl border p-3",children:i(o,{children:[e(o.DisplayElement,{className:"flex items-center justify-between",children:i("div",{children:[i("div",{className:I("flex -items-center gap-1 text-3xl text-white",{"line-through":n.completed}),children:[e("span",{children:n.text||"Todo Item"}),e("span",{children:"-"}),e("span",{children:a})]}),i("div",{className:"items-center flex gap-1",children:[e(V,{handleClick:c,isChecked:n.completed}),i(u,{children:[e(u.OpenBtn,{modalName:"archiveModal",children:e("button",{children:e(b,{className:"text-4xl"})})}),i(u.Window,{name:"archiveModal",className:"items-center fixed left-1/2 top-1/2 z-[1500] flex max-w-[320px] -translate-x-1/2 -translate-y-1/2 transform flex-col rounded-lg bg-gray-600 p-8 text-gray-100 shadow-xl",children:[e("h3",{className:"text-3xl font-semibold text-gray-200 md:text-3xl",children:"Are you sure you want to remove this item?"}),i("div",{className:"items-center mt-2 flex gap-4",children:[e(u.CloseBtn,{className:"rounded-full bg-gray-600 px-5 py-3 text-lg font-medium uppercase text-gray-200 transition-all hover:scale-105",children:e("button",{children:"Cancel"})}),e(u.CloseBtn,{className:"rounded-full bg-gray-600 px-5 py-3 text-lg font-medium uppercase text-gray-200 transition-all hover:scale-105",onClickFn:r,children:e("button",{children:"remove"})})]})]})]})]})]})}),i("div",{className:"items-center flex gap-4",children:[e(o.EditElement,{onChange:s,className:"w-full rounded-md bg-gray-700 p-4 text-2xl font-medium text-gray-100 outline-none",children:e("input",{type:"text",defaultValue:n.text,name:"text",placeholder:"Todo Item"})}),e(o.SaveButton,{onSubmit:x,className:"items-center flex justify-center justify-self-start  px-7 text-3xl font-medium leading-none tracking-wide text-gray-100 transition-all duration-300 hover:scale-110 md:h-14 md:text-2xl",children:e("div",{children:e(w,{})})})]})]})})},Y=({isEdit:n})=>{const{application:t}=g(),a=y();if(!t)return null;function l(){if(!t)return;const c={text:"",completed:!1,createdAt:new Date,id:B()},r={...t,todoList:[...t.todoList,c]};a(n?v(r):h(r))}const{todoList:s}=t;return i("div",{children:[e("h3",{className:"mb-4 text-3xl font-bold text-white underline",children:"Todo List:"}),i("div",{className:"flex w-full flex-wrap justify-center gap-2",children:[s.map((c,r)=>e(W,{todoItem:c},r)),e(E,{onClickFn:l,className:"mt-2 flex h-20 items-center justify-center gap-2 self-center justify-self-start rounded-full bg-gray-600 px-7 text-3xl font-medium leading-none tracking-wide text-gray-100 transition-all duration-300 hover:scale-110 md:h-14 md:text-2xl",children:e("span",{children:"Add Todo"})})]})]})},_=async(n,t)=>{const a="dng9sfzqt",l="hoav12li",s=`https://api.cloudinary.com/v1_1/${a}/${t}/upload`,c=new FormData;c.append("file",n),c.append("upload_preset",l);try{const{data:r}=await A.post(s,c);return r.url}catch(r){return console.error("ERROR!",r),""}},$=({setIsLoading:n,isEdit:t})=>{const a=f.useRef(null),{application:l}=g(),s=y();async function c(r){var x;if(l)try{const d=(x=r.target.files)==null?void 0:x[0];if(!d)return;n(!0);const m=await _(d,"image");if(!m)return;const p={...l,imgs:[...l.imgs,m]};s(t?v(p):h(p)),n(!1)}catch(d){console.error(d)}}return i("button",{className:"cursor-pointer text-4xl",onClick:()=>{a.current&&a.current.click()},children:[e(j,{}),e("input",{type:"file",accept:"image/*,video/*",multiple:!1,onChange:c,className:"hidden",ref:a})]})},P=({src:n,isEdit:t})=>{const{application:a}=g(),[l,s]=f.useState(!1),{outsideClickRef:c}=F(()=>s(!1)),r=y(),x=`relative cursor-pointer ${l?"fixed inset-0 z-50":"w-1/4 h-96"}`;function d(){if(!a)return;const m={...a,imgs:a.imgs.filter(p=>p!==n)};r(t?v(m):h(m))}return i("div",{className:x,children:[i(u,{children:[e(u.OpenBtn,{modalName:"archiveModal",className:"absolute right-1 top-1 z-50 cursor-pointer",children:e("button",{children:e(b,{className:"text-3xl text-gray-900 md:text-4xl"})})}),i(u.Window,{name:"archiveModal",className:"fixed left-1/2 top-1/2 z-[1500] flex max-w-[320px] -translate-x-1/2 -translate-y-1/2 transform flex-col items-center rounded-lg bg-gray-600 p-8 text-gray-100 shadow-xl",children:[e("h3",{className:"text-3xl font-semibold text-gray-200 md:text-3xl",children:"Are you sure you want to remove this contact?"}),i("div",{className:"mt-2 flex items-center gap-4",children:[e(u.CloseBtn,{className:"rounded-full bg-gray-600 px-5 py-3 text-lg font-medium uppercase text-gray-200 transition-all hover:scale-105",children:e("button",{children:"Cancel"})}),e(u.CloseBtn,{className:"rounded-full bg-gray-600 px-5 py-3 text-lg font-medium uppercase text-gray-200 transition-all hover:scale-105",onClickFn:d,children:e("button",{children:"remove"})})]})]})]}),e("img",{src:n,alt:"img",className:"h-full w-full object-cover",onClick:()=>s(!l),ref:c})]})},Z=({isEdit:n=!1})=>{const[t,a]=f.useState(!1),{application:l}=g();return l?i("div",{children:[i("h3",{className:"mb-4 flex w-full items-center justify-between gap-2",children:[e("span",{className:"text-3xl font-bold text-white underline",children:"Images"}),e($,{setIsLoading:a,isEdit:n})]}),t&&e(L,{}),!t&&e("div",{className:"relative flex w-full flex-wrap",children:l.imgs.map((s,c)=>e(P,{src:s,isEdit:n},c))})]}):null};export{X as C,Z as I,o as J,Y as T};
