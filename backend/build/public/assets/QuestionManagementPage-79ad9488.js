import{r as g,G as k,b as y,c as n,j as e,g as C,e as B,f as O,d as L,h as A,i as E,_ as M,k as R,l as F,O as $}from"./index-a8ba8a8a.js";import{S as d}from"./Select-cf9ae7c0.js";import{s as D}from"./config-5ddf0168.js";import{B as b}from"./Button-2ccd120d.js";import{u as G,B as q}from"./useKey-662dcd13.js";import{B as P,a as H,b as V,c as W,Q as Z}from"./BtnMarkQuesitonToEdit-a9289e8c.js";import"./useOutsideClick-76ccf53e.js";import"./Modal-aeb4e2f7.js";var _=function(t,r){var s=g.useState(null),a=s[0],l=s[1];return g.useEffect(function(){if(t.current&&typeof IntersectionObserver=="function"){var o=function(u){l(u[0])},c=new IntersectionObserver(o,r);return c.observe(t.current),function(){l(null),c.disconnect()}}return function(){}},[t.current,r.threshold,r.root,r.rootMargin]),a};const K=_;function z(t){return k({tag:"svg",attr:{version:"1.1",viewBox:"0 0 17 17"},child:[{tag:"g",attr:{},child:[]},{tag:"path",attr:{d:"M12.497 0h-6.497v2.010h1v-1.010h5v4h4v8h-4.017v1h5.017v-9.818l-4.503-4.182zM13 1.832l2.335 2.168h-2.335v-2.168zM0 3v14h11v-9.818l-4.503-4.182h-6.497zM7 4.832l2.335 2.168h-2.335v-2.168zM1 16v-12h5v4h4v8h-9z"}}]})(t)}const J=()=>{const t=y();G("Enter",Q);const{programmingLanguages:r,difficultyLevels:s}=D,[a,l]=g.useState({language:"HTML",level:"beginner",searchTerm:"",Approved:{name:"All",value:void 0},Marked:{name:"All",value:void 0}}),{language:o,level:c,searchTerm:u,Approved:h,Marked:m}=a,p=[{name:"Approved only",value:!0},{name:"Remove approved",value:!1},{name:"All",value:void 0}],f=[{name:"Marked only",value:!0},{name:"Remove marked",value:!1},{name:"All",value:void 0}];function w(i){l({...a,language:i})}function N(i){l({...a,level:i})}function S(i){const x=i.target.value;l({...a,searchTerm:x})}function v(i){l({...a,Approved:i})}function j(i){l({...a,Marked:i})}function Q(){t(C({language:o,level:c==="all"?void 0:c,page:1,limit:0,searchTerm:u,isMarkedToBeRevised:m.value,isRevised:h.value}))}function I(){t(B({language:o}))}return n("div",{className:"min-h-32 flex w-full flex-col items-center justify-between border-b border-gray-300 bg-gray-800 px-4 py-4 md:flex-row md:px-20",children:[n("div",{className:"flex flex-col gap-3",children:[n("div",{className:"flex flex-wrap items-center gap-3",children:[n(d,{onChange:w,children:[e(d.SelectTrigger,{className:`h-14 w-52 cursor-pointer rounded-xl \r
            bg-gray-700 text-2xl leading-5 outline-none transition-all duration-300`,children:e("button",{type:"button",children:o})}),e(d.SelectList,{className:`z-[1500] mt-1 w-52  min-w-[100px] cursor-pointer \r
            border-2  border-gray-800 bg-gray-700 text-2xl leading-5 outline-none transition-all duration-300`,children:Object.keys(r).map(i=>e(d.SelectItem,{value:i,className:`flex h-14 w-full min-w-[100px]  cursor-pointer items-center justify-center border-b-2 border-gray-800 bg-gray-700 text-2xl\r
                    text-gray-100 hover:border-gray-900 hover:bg-gray-950 hover:text-gray-100`,children:e("span",{children:i})},i))})]}),n(d,{onChange:N,children:[e(d.SelectTrigger,{className:`h-14 w-52 cursor-pointer rounded-xl \r
            bg-gray-700 text-2xl capitalize leading-5 outline-none transition-all duration-300`,children:e("button",{type:"button",children:c})}),n(d.SelectList,{className:`z-[1500] mt-1 w-52  min-w-[100px] cursor-pointer \r
            border-2  border-gray-800 bg-gray-700 text-2xl leading-5 outline-none transition-all duration-300`,children:[s.map(i=>e(d.SelectItem,{value:i,className:`flex h-14 w-full min-w-[100px]  cursor-pointer items-center justify-center border-b-2 border-gray-800 bg-gray-700 text-2xl\r
                    text-gray-100 hover:border-gray-900 hover:bg-gray-950 hover:text-gray-100`,children:e("span",{className:"capitalize",children:i})},i)),e(d.SelectItem,{value:"all",className:`flex h-14 w-full min-w-[100px]  cursor-pointer items-center justify-center border-b-2 border-gray-800 bg-gray-700 text-2xl\r
                    text-gray-100 hover:border-gray-900 hover:bg-gray-950 hover:text-gray-100`,children:e("span",{className:"capitalize",children:"all"})})]})]}),e("input",{className:"h-14 w-96 rounded-xl bg-gray-700 px-3 text-2xl leading-5",type:"text",value:u,placeholder:"Search for a question",onChange:S})]}),n("div",{className:"flex flex-wrap items-center gap-4",children:[n(d,{onChange:v,children:[e(d.SelectTrigger,{className:`h-14 w-56 cursor-pointer rounded-xl \r
            bg-gray-700 text-2xl capitalize leading-5 outline-none transition-all duration-300`,children:e("button",{type:"button",children:h.name})}),e(d.SelectList,{className:`z-[1500] mt-1 w-56  min-w-[100px] cursor-pointer \r
            border-2  border-gray-800 bg-gray-700 text-2xl leading-5 outline-none transition-all duration-300`,children:p.map(({name:i,value:x})=>e(d.SelectItem,{value:{name:i,value:x},className:`flex h-14 w-full min-w-[100px]  cursor-pointer items-center justify-center border-b-2 border-gray-800 bg-gray-700 text-2xl\r
                    text-gray-100 hover:border-gray-900 hover:bg-gray-950 hover:text-gray-100`,children:e("span",{className:"capitalize",children:i})},i))})]}),n(d,{onChange:j,children:[e(d.SelectTrigger,{className:`h-14 w-56 cursor-pointer rounded-xl \r
            bg-gray-700 text-2xl capitalize leading-5 outline-none transition-all duration-300`,children:e("button",{type:"button",children:m.name})}),e(d.SelectList,{className:`z-[1500] mt-1 w-56  min-w-[100px] cursor-pointer \r
            border-2  border-gray-800 bg-gray-700 text-2xl leading-5 outline-none transition-all duration-300`,children:f.map(({name:i,value:x})=>e(d.SelectItem,{value:{name:i,value:x},className:`flex h-14 w-full min-w-[100px]  cursor-pointer items-center justify-center border-b-2 border-gray-800 bg-gray-700 text-2xl\r
                    text-gray-100 hover:border-gray-900 hover:bg-gray-950 hover:text-gray-100`,children:e("span",{className:"capitalize",children:i})},i))})]}),n(b,{onClickFn:I,className:"flex items-center justify-center gap-3 whitespace-nowrap px-2.5",children:[e("span",{className:"text-2xl font-semibold",children:"Get Duplicates"}),e(z,{size:20,color:"white"})]})]})]}),e(b,{onClickFn:Q,className:"flex h-14 items-center justify-center self-end rounded-full bg-gray-700 p-10 text-2xl leading-5 text-gray-100 md:self-center",children:e("span",{className:"text-3xl capitalize",children:"search"})})]})};function T(){const{questions:t,getQuestionsState:r,question:s,getQuestionState:a,addQuestionState:l,updateQuestionState:o,removeQuestionState:c,editState:u}=O(h=>h.question);return{questions:t,getQuestionsState:r,question:s,getQuestionState:a,addQuestionState:l,updateQuestionState:o,removeQuestionState:c,editState:u}}function U(t){return k({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"desc",attr:{},child:[]},{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M3 17h2.397a5 5 0 0 0 4.096 -2.133l.177 -.253m3.66 -5.227l.177 -.254a5 5 0 0 1 4.096 -2.133h3.397"}},{tag:"path",attr:{d:"M18 4l3 3l-3 3"}},{tag:"path",attr:{d:"M3 7h2.397a5 5 0 0 1 4.096 2.133l4.014 5.734a5 5 0 0 0 4.096 2.133h3.397"}},{tag:"path",attr:{d:"M18 20l3 -3l-3 -3"}}]})(t)}const X=({question:t})=>{const r=y();function s(){const{options:a,correctOption:l}=t,o=a.slice(),c=o[l];o.splice(l,1),o.sort(()=>Math.random()-.5),o.splice(Math.floor(Math.random()*(o.length+1)),0,c);const u=o.indexOf(c),h={...t,options:o,correctOption:u};r(L(h))}return e(b,{onClickFn:s,children:e(U,{className:"text-5xl md:text-4xl"})})},Y=({question:t,bcgColor:r})=>{const s=y(),[a,l]=g.useState(""),{id:o,question:c,options:u,level:h,language:m,correctOption:p}=t;function f(){E(`Questions/${o}`),M.success("Id copied to clipboard",{style:{background:"#333",color:"#fff",fontSize:"13px",fontWeight:"600"}})}function w(){s(R(o))}function N(){l("")}return n("li",{className:"white-box-shadow relative flex flex-col justify-between gap-2 overflow-auto rounded-lg p-8",style:{backgroundColor:r},children:[a&&e("div",{className:"absolute right-0 top-0 flex h-full w-full cursor-pointer items-center justify-center rounded-lg bg-black bg-opacity-60 p-2",onClick:N,children:e("p",{className:"text-5xl font-semibold capitalize text-gray-100 shadow-xl",children:a})}),n("div",{children:[e("header",{className:"mb-2 flex items-center justify-between gap-2",children:n("p",{className:"cursor-pointer text-3xl font-semibold hover:underline",onClick:f,children:["Id: ",o]})}),e("div",{className:"mb-2 text-5xl font-semibold tracking-wide md:text-4xl",children:c}),e("div",{className:"ml-4 mt-4 flex flex-col gap-3 text-4xl sm:text-3xl md:text-3xl",children:u.map((S,v)=>e("div",{children:`${v+1}. ${S}`},v))})]}),n("div",{children:[n("div",{className:"mb-3 mt-8 flex w-full justify-between gap-6 text-3xl font-semibold",children:[n("div",{className:"flex-1",children:[e("p",{children:"Level: "}),e("span",{children:A(h)})]}),n("div",{className:"flex-1",children:[e("p",{children:"Language: "}),e("span",{children:m})]}),n("div",{className:"group flex flex-1 flex-col items-center gap-1",children:[e("p",{children:"Correct Option:"}),e("span",{className:"opacity-0 group-hover:opacity-100",children:p+1})]})]}),n("div",{className:"flex items-center justify-end gap-4",children:[e(P,{question:t,setQuestionStatus:l,isToggled:!0}),e(X,{question:t}),e(H,{question:t,setQuestionStatus:l}),e(V,{questionId:t.id}),e(q,{question:t}),e(W,{question:t,setQuestionStatus:l}),e(b,{onClickFn:w,className:"flex items-center justify-center gap-3 whitespace-nowrap px-2.5",children:e(z,{size:20,color:"#000"})})]})]})]})};function ee(){const[t,r]=g.useState(1),s=g.useRef(null),a=K(s,{root:null,rootMargin:"0px",threshold:.1});return g.useEffect(()=>{a&&a.intersectionRatio>.1&&r(l=>l+1)},[a]),{paginationIdx:t,intersectionRef:s}}function te(){const{editState:t}=T(),{archiveCount:r,approveCount:s,markCount:a}=t;g.useEffect(()=>{const l=r+s+a,c=[r,s,a].filter(u=>u>0).length>=2;l<=0||M(n("div",{className:"flex flex-col gap-2 bg-[#333] text-xl capitalize",children:[s>0&&n("p",{children:[s," questions approved"]}),a>0&&n("p",{children:[a," questions marked"]}),r>0&&n("p",{children:[r," questions archived"]}),c&&n("p",{children:[l," Total"]})]}),{style:{background:"#333",color:"#fff",fontSize:"13px",fontWeight:"600"},duration:2e3})},[r,s,a])}const de=()=>{te();const t=y(),{questions:r,getQuestionsState:s}=T(),{paginationIdx:a,intersectionRef:l}=ee(),o=s.state==="loading",c=!o&&r.length===0,u=!o&&r.length>0,h=r.filter(p=>p.isRevised),m=Math.round(h.length/r.length*100);return g.useEffect(()=>{t(C({language:"HTML",level:"beginner",limit:0}))},[t]),n("main",{className:"flex w-screen flex-col items-center",children:[e(J,{}),o&&e(Z,{}),c&&e("h2",{className:"mt-14 text-center text-2xl font-bold",children:"No questions found.⚠️ Please try another search."}),u&&n("div",{className:"mx-auto mt-4 flex w-11/12 flex-col gap-5 pb-24 md:mt-2",children:[n("div",{className:"flex w-full flex-col flex-wrap justify-between gap-1 md:flex-row",children:[e("p",{className:"text-3xl font-semibold leading-none",children:`Number of Questions: ${r.length}`}),e("p",{className:"text-3xl font-semibold leading-none",children:`Number of Approved Questions: ${h.length}`}),n("p",{className:"text-3xl font-semibold leading-none",children:[n("em",{className:"mr-[4px]",children:[m,"%"]}),"of the questions have been approved."]})]}),e("ul",{className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:r.slice(0,40*a).map((p,f)=>e(Y,{question:p,bcgColor:F(f)},`${p.id}-${f+1}`))}),e("div",{className:"h-40 w-full",ref:l})]}),e($,{})]})};export{de as default};
