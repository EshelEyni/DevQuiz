import{r as h,G as M,b as S,c as t,j as e,g as C,e as B,f as L,h as A,i as E,_ as k,k as O,l as R,O as q}from"./index-123cc4bb.js";import{S as s}from"./Select-a1782336.js";import{s as $}from"./config-5ddf0168.js";import{B as N}from"./Button-a2161a7a.js";import{u as D}from"./useKey-4ca69785.js";import{B as F,a as G,b as P,c as H,Q as V}from"./BtnMarkQuesitonToEdit-e98f99b8.js";import{B as W}from"./BtnCopyQuestion-fccc9f93.js";import"./useOutsideClick-a1f9a642.js";import"./Modal-e5388d83.js";var Z=function(l,n){var o=h.useState(null),r=o[0],i=o[1];return h.useEffect(function(){if(l.current&&typeof IntersectionObserver=="function"){var c=function(u){i(u[0])},d=new IntersectionObserver(c,n);return d.observe(l.current),function(){i(null),d.disconnect()}}return function(){}},[l.current,n.threshold,n.root,n.rootMargin]),r};const _=Z;function z(l){return M({tag:"svg",attr:{version:"1.1",viewBox:"0 0 17 17"},child:[{tag:"g",attr:{},child:[]},{tag:"path",attr:{d:"M12.497 0h-6.497v2.010h1v-1.010h5v4h4v8h-4.017v1h5.017v-9.818l-4.503-4.182zM13 1.832l2.335 2.168h-2.335v-2.168zM0 3v14h11v-9.818l-4.503-4.182h-6.497zM7 4.832l2.335 2.168h-2.335v-2.168zM1 16v-12h5v4h4v8h-9z"}}]})(l)}const K=()=>{const l=S();D("Enter",Q);const{programmingLanguages:n,difficultyLevels:o}=$,[r,i]=h.useState({language:"HTML",level:"beginner",searchTerm:"",Approved:{name:"All",value:void 0},Marked:{name:"All",value:void 0}}),{language:c,level:d,searchTerm:u,Approved:g,Marked:m}=r,p=[{name:"Approved only",value:!0},{name:"Remove approved",value:!1},{name:"All",value:void 0}],x=[{name:"Marked only",value:!0},{name:"Remove marked",value:!1},{name:"All",value:void 0}];function b(a){i({...r,language:a})}function y(a){i({...r,level:a})}function w(a){const f=a.target.value;i({...r,searchTerm:f})}function v(a){i({...r,Approved:a})}function I(a){i({...r,Marked:a})}function Q(){l(C({language:c,level:d==="all"?void 0:d,page:1,limit:0,searchTerm:u,isMarkedToBeRevised:m.value,isRevised:g.value}))}function j(){l(B({language:c}))}return t("div",{className:"min-h-32 flex w-full flex-col items-center justify-between border-b border-gray-300 bg-gray-800 px-4 py-4 md:flex-row md:px-20",children:[t("div",{className:"flex flex-col gap-3",children:[t("div",{className:"flex flex-wrap items-center gap-3",children:[t(s,{onChange:b,children:[e(s.SelectTrigger,{className:`h-14 w-52 cursor-pointer rounded-xl \r
            bg-gray-700 text-2xl leading-5 outline-none transition-all duration-300`,children:e("button",{type:"button",children:c})}),e(s.SelectList,{className:`z-[1500] mt-1 w-52  min-w-[100px] cursor-pointer \r
            border-2  border-gray-800 bg-gray-700 text-2xl leading-5 outline-none transition-all duration-300`,children:Object.keys(n).map(a=>e(s.SelectItem,{value:a,className:`flex h-14 w-full min-w-[100px]  cursor-pointer items-center justify-center border-b-2 border-gray-800 bg-gray-700 text-2xl\r
                    text-gray-100 hover:border-gray-900 hover:bg-gray-950 hover:text-gray-100`,children:e("span",{children:a})},a))})]}),t(s,{onChange:y,children:[e(s.SelectTrigger,{className:`h-14 w-52 cursor-pointer rounded-xl \r
            bg-gray-700 text-2xl capitalize leading-5 outline-none transition-all duration-300`,children:e("button",{type:"button",children:d})}),t(s.SelectList,{className:`z-[1500] mt-1 w-52  min-w-[100px] cursor-pointer \r
            border-2  border-gray-800 bg-gray-700 text-2xl leading-5 outline-none transition-all duration-300`,children:[o.map(a=>e(s.SelectItem,{value:a,className:`flex h-14 w-full min-w-[100px]  cursor-pointer items-center justify-center border-b-2 border-gray-800 bg-gray-700 text-2xl\r
                    text-gray-100 hover:border-gray-900 hover:bg-gray-950 hover:text-gray-100`,children:e("span",{className:"capitalize",children:a})},a)),e(s.SelectItem,{value:"all",className:`flex h-14 w-full min-w-[100px]  cursor-pointer items-center justify-center border-b-2 border-gray-800 bg-gray-700 text-2xl\r
                    text-gray-100 hover:border-gray-900 hover:bg-gray-950 hover:text-gray-100`,children:e("span",{className:"capitalize",children:"all"})})]})]}),e("input",{className:"h-14 w-96 rounded-xl bg-gray-700 px-3 text-2xl leading-5",type:"text",value:u,placeholder:"Search for a question",onChange:w})]}),t("div",{className:"flex flex-wrap items-center gap-4",children:[t(s,{onChange:v,children:[e(s.SelectTrigger,{className:`h-14 w-56 cursor-pointer rounded-xl \r
            bg-gray-700 text-2xl capitalize leading-5 outline-none transition-all duration-300`,children:e("button",{type:"button",children:g.name})}),e(s.SelectList,{className:`z-[1500] mt-1 w-56  min-w-[100px] cursor-pointer \r
            border-2  border-gray-800 bg-gray-700 text-2xl leading-5 outline-none transition-all duration-300`,children:p.map(({name:a,value:f})=>e(s.SelectItem,{value:{name:a,value:f},className:`flex h-14 w-full min-w-[100px]  cursor-pointer items-center justify-center border-b-2 border-gray-800 bg-gray-700 text-2xl\r
                    text-gray-100 hover:border-gray-900 hover:bg-gray-950 hover:text-gray-100`,children:e("span",{className:"capitalize",children:a})},a))})]}),t(s,{onChange:I,children:[e(s.SelectTrigger,{className:`h-14 w-56 cursor-pointer rounded-xl \r
            bg-gray-700 text-2xl capitalize leading-5 outline-none transition-all duration-300`,children:e("button",{type:"button",children:m.name})}),e(s.SelectList,{className:`z-[1500] mt-1 w-56  min-w-[100px] cursor-pointer \r
            border-2  border-gray-800 bg-gray-700 text-2xl leading-5 outline-none transition-all duration-300`,children:x.map(({name:a,value:f})=>e(s.SelectItem,{value:{name:a,value:f},className:`flex h-14 w-full min-w-[100px]  cursor-pointer items-center justify-center border-b-2 border-gray-800 bg-gray-700 text-2xl\r
                    text-gray-100 hover:border-gray-900 hover:bg-gray-950 hover:text-gray-100`,children:e("span",{className:"capitalize",children:a})},a))})]}),t(N,{onClickFn:j,className:"flex items-center justify-center gap-3 whitespace-nowrap px-2.5",children:[e("span",{className:"text-2xl font-semibold",children:"Get Duplicates"}),e(z,{size:20,color:"white"})]})]})]}),e(N,{onClickFn:Q,className:"flex h-14 items-center justify-center self-end rounded-full bg-gray-700 p-10 text-2xl leading-5 text-gray-100 md:self-center",children:e("span",{className:"text-3xl capitalize",children:"search"})})]})};function T(){const{questions:l,getQuestionsState:n,question:o,getQuestionState:r,addQuestionState:i,updateQuestionState:c,removeQuestionState:d,editState:u}=L(g=>g.question);return{questions:l,getQuestionsState:n,question:o,getQuestionState:r,addQuestionState:i,updateQuestionState:c,removeQuestionState:d,editState:u}}const J=({question:l,bcgColor:n})=>{const o=S(),[r,i]=h.useState(""),{id:c,question:d,options:u,level:g,language:m,correctOption:p}=l;function x(){E(`Questions/${c}`),k.success("Id copied to clipboard",{style:{background:"#333",color:"#fff",fontSize:"13px",fontWeight:"600"}})}function b(){o(O(c))}function y(){i("")}return t("li",{className:"white-box-shadow relative flex flex-col justify-between gap-2 overflow-auto rounded-lg p-8",style:{backgroundColor:n},children:[r&&e("div",{className:"absolute right-0 top-0 flex h-full w-full cursor-pointer items-center justify-center rounded-lg bg-black bg-opacity-60 p-2",onClick:y,children:e("p",{className:"text-5xl font-semibold capitalize text-gray-100 shadow-xl",children:r})}),t("div",{children:[e("header",{className:"mb-2 flex items-center justify-between gap-2",children:t("p",{className:"cursor-pointer text-3xl font-semibold hover:underline",onClick:x,children:["Id: ",c]})}),e("div",{className:"mb-2 text-5xl font-semibold tracking-wide md:text-4xl",children:d}),e("div",{className:"ml-4 mt-4 flex flex-col gap-3 text-4xl sm:text-3xl md:text-3xl",children:u.map((w,v)=>e("div",{children:`${v+1}. ${w}`},v))})]}),t("div",{children:[t("div",{className:"mb-3 mt-8 flex w-full justify-between gap-6 text-3xl font-semibold",children:[t("div",{className:"flex-1",children:[e("p",{children:"Level: "}),e("span",{children:A(g)})]}),t("div",{className:"flex-1",children:[e("p",{children:"Language: "}),e("span",{children:m})]}),t("div",{className:"group flex flex-1 flex-col items-center gap-1",children:[e("p",{children:"Correct Option:"}),e("span",{className:"opacity-0 group-hover:opacity-100",children:p+1})]})]}),t("div",{className:"flex items-center justify-end gap-4",children:[e(F,{question:l,setQuestionStatus:i,isToggled:!0}),e(G,{question:l,setQuestionStatus:i}),e(P,{questionId:l.id}),e(W,{question:l}),e(H,{question:l,setQuestionStatus:i}),e(N,{onClickFn:b,className:"flex items-center justify-center gap-3 whitespace-nowrap px-2.5",children:e(z,{size:20,color:"#000"})})]})]})]})};function U(){const[l,n]=h.useState(1),o=h.useRef(null),r=_(o,{root:null,rootMargin:"0px",threshold:.1});return h.useEffect(()=>{r&&r.intersectionRatio>.1&&n(i=>i+1)},[r]),{paginationIdx:l,intersectionRef:o}}function X(){const{editState:l}=T(),{archiveCount:n,approveCount:o,markCount:r}=l;h.useEffect(()=>{const i=n+o+r,d=[n,o,r].filter(u=>u>0).length>=2;i<=0||k(t("div",{className:"flex flex-col gap-2 bg-[#333] text-xl capitalize",children:[o>0&&t("p",{children:[o," questions approved"]}),r>0&&t("p",{children:[r," questions marked"]}),n>0&&t("p",{children:[n," questions archived"]}),d&&t("p",{children:[i," Total"]})]}),{style:{background:"#333",color:"#fff",fontSize:"13px",fontWeight:"600"},duration:2e3})},[n,o,r])}const se=()=>{X();const l=S(),{questions:n,getQuestionsState:o}=T(),{paginationIdx:r,intersectionRef:i}=U(),c=o.state==="loading",d=!c&&n.length===0,u=!c&&n.length>0,g=n.filter(p=>p.isRevised),m=Math.round(g.length/n.length*100);return h.useEffect(()=>{l(C({language:"HTML",level:"beginner",limit:0}))},[l]),t("main",{className:"flex w-screen flex-col items-center",children:[e(K,{}),c&&e(V,{}),d&&e("h2",{className:"mt-14 text-center text-2xl font-bold",children:"No questions found.⚠️ Please try another search."}),u&&t("div",{className:"mx-auto mt-4 flex w-11/12 flex-col gap-5 pb-24 md:mt-2",children:[t("div",{className:"flex w-full flex-col flex-wrap justify-between gap-1 md:flex-row",children:[e("p",{className:"text-3xl font-semibold leading-none",children:`Number of Questions: ${n.length}`}),e("p",{className:"text-3xl font-semibold leading-none",children:`Number of Approved Questions: ${g.length}`}),t("p",{className:"text-3xl font-semibold leading-none",children:[t("em",{className:"mr-[4px]",children:[m,"%"]}),"of the questions have been approved."]})]}),e("ul",{className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:n.slice(0,40*r).map((p,x)=>e(J,{question:p,bcgColor:R(x)},`${p.id}-${x+1}`))}),e("div",{className:"h-40 w-full",ref:i})]}),e(q,{})]})};export{se as default};
